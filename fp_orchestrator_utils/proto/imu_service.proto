syntax = "proto3";

package imu_service;

// The IMUService defines the RPC methods for interacting with IMU devices.
service IMUService {
  // HealthCheck is used to check the health of the IMU service.
  rpc HealthCheck(HealthCheckRequest) returns (HealthCheckResponse);
  // SendIMUPayload is used to send IMU data from a device to the server.
  rpc SendIMUPayload(IMUPayload) returns (IMUPayloadResponse);
}

// The IMUPayload message contains sensor data from an IMU device.
message IMUPayload {
  string device_id = 1;
  double timestamp = 2; // Unix timestamp in seconds
  repeated SensorValues accelerometer = 3;
  repeated SensorValues gyroscope = 4;
  repeated SensorValues gravity = 5;
  repeated SensorValues total_acceleration = 6;
  repeated OrientationSensorValues orientation = 7;
}

// The IMUPayloadResponse message is used to acknowledge the receipt of the IMU payload.
message IMUPayloadResponse {
  string device_id = 1;
  double timestamp = 2; // Unix timestamp in seconds
  string status = 3; // e.g., "success", "error"
}

// The SensorValues message represents a single sensor reading with x, y, and z components.
message SensorValues {
  double x = 1;
  double y = 2;
  double z = 3;
}

// The OrientationSensorValues message represents orientation data with quaternion and Euler angles.
message OrientationSensorValues {
  double qx = 1;
  double qy = 2;
  double qz = 3;
  double qw = 4;
  double roll = 5;
  double pitch = 6;
  double yaw = 7;
}

message HealthCheckRequest {}

message HealthCheckResponse {
  string status = 1; // e.g., "healthy", "unhealthy"
  string message = 2; // Additional information about the health status
}